lightgbm: '2.1.1'
xgboost: '0.80'

Для запуска скриптов потребуется машина с 64ГБ ОЗУ (правда требуется они лишь при merge файлов, при необходимости это можно делать по «кусочкам» при меньшем количестве ОЗУ).

Предполагается что исходные данные распакованы в папку «E:\MLBOOTTeleFinal\dataset». Суммарное место, занимаемое исходными файлами + промежуточные файлы около 21 ГБ.

Порядок запуска скриптов:

Шаги 1-4 (файлы 00-1, 00-2, 00-3, 00-4): Производится merge между собой (по дню и CELL_LAC_ID) данных из следующих пар файлов (и их сохранение в файлы под такими же номерами):

генерация voice_session_details + avg_kpi (4+7).ipynb
генерация voice_session_details + chnn_kpi (5+7).ipynb
генерация data_session_details + avg_kpi (4+6).ipynb
генерация data_session_details + chnn_kpi (5+6).ipynb

Шаги 5-6 (файлы 00-5, 00-6):  Для каждой  CELL_LAC_ID  все показатели усредняются по месяцу:

00-5 средние по месяцу avg_kpi (4).ipynb
00-6 средние по месяцу chnn_kpi (5).ipynb
Шаги 7-9 (файлы 01-1, 01-2, 01-3): Рассчитываем статистические показатели по дням (min, max, mean, кое-где var и квантили для  первых 24 дней по одному дню, для оставшихся – по 3 дня в группе) для каждого пользователя для технических показателей вышек в этот период времени. Как оказалось, нужны даже не все комбинации данных, полученные на предыдущих шагах.

Шаг 10: В скрипте  «02 (lg 06217).ipynb» merge-им показатели, полученные на шагах 7-9 с файлами «subs_csi», удаляем часть колонок, и сохраняем в промежуточные файлы (“train (06217)”  и “test (06217)”). Также, если на этих данных (как оказалось, лучшие результаты были не на всех данных, а только на первых 24х днях) запустить lgbm, то получится результат выдающий у меня локально rocauc = 0.5414316 

П: 0.6217311

Ф: 0.5906515 (как оказалось, что даже выше победившего значения). Далее этот результат, и давший его датасет использовался как базовый для дальнейшего тюнинга.

Далее на шагах 11-14 (файлы 03-1, 03-3, 04-1, 04-3) объединяются среднемесячные показатели сот с суммарными данными о сотах с которых звонили пользователи.

Шаги 15-16: Запуск XGB и LGBM на суммарных данных, сгенерированных на предыдущих шагах.

Результаты: файлы result_0.5732442581015827.csv и result_0.5447889023022311.csv.

Шаг 17: (файл final result.xlsx) – простое усреднение 2х результатов (из файлов result_0.5732442581015827.csv и result_0.5447889023022311.csv.). Итоговый результат (просто скопировал колонку из экселя в notepad++) файл final result.txt